---
const insights = [
  {
    title: "Market Gap Identified",
    description:
      "AI analysis shows potential opportunity in mid-market segment with 40% growth potential",
    type: "opportunity",
  },
  {
    title: "Competitor Price Drop",
    description:
      "TechCorp Inc. reduced enterprise plan pricing by 15% last week",
    type: "threat",
  },
  {
    title: "Feature Advantage",
    description:
      "Your AI capabilities outperform competitors by 23% in user satisfaction",
    type: "strength",
  },
  {
    title: "Social Media Traction",
    description:
      "InnovateTech gaining 2x more engagement on new product launches",
    type: "weakness",
  },
];

const getTypeIcon = (type) => {
  switch (type) {
    case "opportunity":
      return `<div class="rounded-full p-2 bg-green-100">
                <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 text-green-600" viewBox="0 0 20 20" fill="currentColor">
                  <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd" />
                </svg>
              </div>`;
    case "threat":
      return `<div class="rounded-full p-2 bg-red-100">
                <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 text-[#D80032]" viewBox="0 0 20 20" fill="currentColor">
                  <path fill-rule="evenodd" d="M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z" clip-rule="evenodd" />
                </svg>
              </div>`;
    case "strength":
      return `<div class="rounded-full p-2 bg-blue-100">
                <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 text-blue-600" viewBox="0 0 20 20" fill="currentColor">
                  <path fill-rule="evenodd" d="M12 7a1 1 0 110-2h5a1 1 0 011 1v5a1 1 0 11-2 0V8.414l-4.293 4.293a1 1 0 01-1.414 0L8 10.414l-4.293 4.293a1 1 0 01-1.414-1.414l5-5a1 1 0 011.414 0L11 10.586 14.586 7H12z" clip-rule="evenodd" />
                </svg>
              </div>`;
    case "weakness":
      return `<div class="rounded-full p-2 bg-yellow-100">
                <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 text-yellow-600" viewBox="0 0 20 20" fill="currentColor">
                  <path fill-rule="evenodd" d="M12 13a1 1 0 100 2h5a1 1 0 001-1V9a1 1 0 10-2 0v2.586l-4.293-4.293a1 1 0 00-1.414 0L8 9.586 3.707 5.293a1 1 0 00-1.414 1.414l5 5a1 1 0 001.414 0L11 9.414 14.586 13H12z" clip-rule="evenodd" />
                </svg>
              </div>`;
  }
};

const getTypeClass = (type) => {
  switch (type) {
    case "opportunity":
      return "text-green-600";
    case "threat":
      return "text-[#D80032]";
    case "strength":
      return "text-blue-600";
    case "weakness":
      return "text-yellow-600";
  }
};
---

<div class="space-y-4">
  {
    insights.map((insight) => (
      <div class="flex items-start space-x-3">
        <div set:html={getTypeIcon(insight.type)} />
        <div>
          <h3 class={`font-medium ${getTypeClass(insight.type)}`}>
            {insight.title}
          </h3>
          <p class="text-sm text-gray-600">{insight.description}</p>
        </div>
      </div>
    ))
  }
</div>

<div class="mt-6">
  <button
    class="bg-[#D80032] hover:bg-[#3D0C11] text-white font-medium py-2 px-4 rounded flex items-center justify-center w-full"
  >
    <svg
      xmlns="http://www.w3.org/2000/svg"
      class="h-5 w-5 mr-2"
      viewBox="0 0 24 24"
      fill="none"
      stroke="currentColor"
      stroke-width="2"
      stroke-linecap="round"
      stroke-linejoin="round"
    >
      <rect x="3" y="4" width="18" height="18" rx="2" ry="2"></rect>
      <line x1="16" y1="2" x2="16" y2="6"></line>
      <line x1="8" y1="2" x2="8" y2="6"></line>
      <line x1="3" y1="10" x2="21" y2="10"></line>
    </svg>
    Generate Weekly Report
  </button>
</div>
